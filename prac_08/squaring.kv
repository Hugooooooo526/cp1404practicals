BoxLayout:
    orientation: 'vertical'
    BoxLayout:
        orientation: 'horizontal'
        canvas.before:
            Color:
                rgba: 1, 1, 1, 1
            Rectangle:
                pos: self.pos
                size: self.size
        
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: 0.33
            canvas.before:
                Color:
                    rgba: 1, 1, 1, 1
                Rectangle:
                    pos: self.pos
                    size: self.size
            TextInput:
                id: input_number
                text: '4.1'
                font_size: 48
                multiline: False
                background_color: 1, 1, 1, 0
                foreground_color: 0, 0, 0, 1
                halign: 'center'
                on_text: app.handle_calculate(self.text)
        
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: 0.33
            canvas.before:
                Color:
                    rgba: 0.5, 0.5, 0.5, 1  # 灰色背景
                Rectangle:
                    pos: self.pos
                    size: self.size
            Button:
                text: 'Square'
                font_size: 36
                background_color: 0.5, 0.5, 0.5, 1
                background_normal: ''
                on_press: app.handle_calculate(input_number.text)
            
        BoxLayout:
            orientation: 'vertical'
            size_hint_x: 0.33
            canvas.before:
                Color:
                    rgba: 0, 0, 0, 1  # 黑色背景
                Rectangle:
                    pos: self.pos
                    size: self.size
            Label:
                id: output_label
                text: '16.81'
                font_size: 48
                color: (1, 0.75, 0.8, 1)  # 粉色文本
    
    BoxLayout:
        orientation: 'vertical'
        size_hint_y: 0.3
        canvas.before:
            Color:
                rgba: 0, 0, 0, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            text: 'Enter a number and press "Square"'
            color: 1, 1, 1, 1  # 白色文本
